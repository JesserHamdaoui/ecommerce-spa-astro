---
import ProductImage from './ProductImage.astro'
const { image, name, price, old_price, link, score } = Astro.props
---

<div class="flex-col flex gap-2 md:gap-1 w-[180px] justify-center">
    <a href={link}>
        <div class="flex-col flex gap-1 md:gap-1">
            <ProductImage image={image} score={score} />
            <div class="m-auto">
                <button
                    class="w-fit bg-red-500 text-white rounded hover:scale-105 ease-in-out text-xl font-bold px-4 py-1"
                >
                    J'achete
                </button>
            </div>
            <p
                class="font-semibold text-base w-[180px] leading-5 m-auto text-center"
            >
                {name}
            </p>

            <span class="text-red-500 font-bold text-center">
                <p class="text-2xl discounted-price inline-block">
                    {price + 'DT'}
                </p>&nbsp;&nbsp;&nbsp;
                <span class="line-through text-xl font-bold text-gray-500">
                    {old_price + (old_price != null ? 'DT' : '')}
                </span>
            </span>
        </div>
    </a>
</div>

<style>
    @keyframes priceAnimation {
        0%,
        100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.1);
        }
    }

    .discounted-price {
        animation: priceAnimation 2s infinite; /* Repeating animation */
    }
</style>
